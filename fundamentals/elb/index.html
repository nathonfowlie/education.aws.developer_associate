
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Study notes for the AWS Developer Associate 2021 Exam." name="description"/>
<meta content="Nathon Fowlie" name="author"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-7.1.5" name="generator"/>
<title>Elastic Load Balancer - AWS Developer Associate 2021</title>
<link href="../../assets/stylesheets/main.bde7dde4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../css/extra.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="default" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#elastic-load-balancer">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="AWS Developer Associate 2021" class="md-header__button md-logo" data-md-component="logo" href="../.." title="AWS Developer Associate 2021">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            AWS Developer Associate 2021
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Elastic Load Balancer
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"></path></svg>
</label>
<input class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/nathonfowlie/education.aws.developer_associate/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg>
</div>
<div class="md-source__repository">
    nathonfowlie/education.aws.developer_associate
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="AWS Developer Associate 2021" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="AWS Developer Associate 2021">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    AWS Developer Associate 2021
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/nathonfowlie/education.aws.developer_associate/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg>
</div>
<div class="md-source__repository">
    nathonfowlie/education.aws.developer_associate
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
        CI/CD
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="CI/CD" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          CI/CD
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cicd/codebuild/">
        CodeBuild
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cicd/codecommit/">
        CodeCommit
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cicd/codedeploy/">
        CodeDeploy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cicd/codepipeline/">
        CodePipeline
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cicd/codestar/">
        CodeStar
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
        Developing on AWS
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Developing on AWS" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Developing on AWS
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/appsync/">
        AppSync
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/athena/">
        Athena
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/cli/">
        Command Line Interface (CLI)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/cloudformation/">
        CloudFormation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/cloudfront/">
        CloudFront
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/cloudtrail/">
        CloudTrail
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/cloudwatch/">
        CloudWatch
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/ds/">
        Directory Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/dynamodb/">
        DynamoDB
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/ecr/">
        ECR
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/ecs/">
        ECS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/elasticbeanstalk/">
        Elastic Beanstalk
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/fargate/">
        Fargate
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/sdk/">
        AWS SDK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/stepfunctions/">
        Step Functions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/sts/">
        STS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../developing/xray/">
        X-Ray
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        Fundamentals
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Fundamentals" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Fundamentals
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../acm/">
        AWS Certificate Manager (ACM)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../asg/">
        Auto-Scaling Groups
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aurora/">
        Aurora
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../databases/">
        Databases
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ebs/">
        EBS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ec2/">
        EC2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../efs/">
        Elastic File System
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../elasticache/">
        ElastiCache
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Elastic Load Balancer
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Elastic Load Balancer
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-ec2-load-balancer-elb">
    What is EC2 Load Balancer (ELB)?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#why-use-a-load-balancer">
    Why use a Load Balancer?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scalability">
    Scalability
  </a>
<nav aria-label="Scalability" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vertical-scalability">
    Vertical Scalability
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#horizontal-scalability-elasticity">
    Horizontal Scalability (Elasticity)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#high-availability">
    High Availability
  </a>
<nav aria-label="High Availability" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#passive">
    Passive
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#active">
    Active
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-checks">
    Health Checks
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stickyness">
    Stickyness
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-types">
    ELB Types
  </a>
<nav aria-label="ELB Types" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#classic-load-balancer-v1">
    Classic Load Balancer (v1)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#application-load-balancer-v2">
    Application Load Balancer (v2)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#network-load-balancer-nlb">
    Network Load Balancer (NLB)
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-security-groups">
    ELB Security Groups
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-monitoring">
    ELB Monitoring
  </a>
<nav aria-label="ELB Monitoring" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#troubleshooting-elb">
    Troubleshooting ELB
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-connection-draining">
    ELB Connection Draining
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-zone-load-balancing">
    Cross-Zone Load Balancing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#slbtls-certificates">
    SLB/TLS Certificates
  </a>
<nav aria-label="SLB/TLS Certificates" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#server-name-indication-sni">
    Server Name Indication (SNI)
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../iam/">
        Identity &amp; Access Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rds/">
        Relational Database Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../route53/">
        Route53
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../s3/">
        Simple Storage Service (S3)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ses/">
        Simple Email Service (SES)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vpc/">
        VPC
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../identitymanagement/cognito/">
        Cognito
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        Messaging
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Messaging" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Messaging
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../messaging/kinesis/">
        Kinesis
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../messaging/sns/">
        Simple Notification Service (SNS)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../messaging/sqs/">
        Simple Queue Service
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
        Security
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Security" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Security
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/kms/">
        AWS Key Management Service (KMS)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/secrets_manager/">
        Secrets Manager
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security/ssm/">
        SSM Parameter Store
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/nathonfowlie/education.aws.developer_associate/edit/master/docs/fundamentals/elb.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="elastic-load-balancer">Elastic Load Balancer<a class="headerlink" href="#elastic-load-balancer" title="Permanent link">¶</a></h1>
<h2 id="what-is-ec2-load-balancer-elb">What is EC2 Load Balancer (ELB)?<a class="headerlink" href="#what-is-ec2-load-balancer-elb" title="Permanent link">¶</a></h2>
<ul>
<li>Guaranteed to be working.</li>
<li>AWS manages upgrades, maintenance, high availability.</li>
<li>More expensive than setting up your own LB, but much less effort.</li>
<li>Integrated with alot of AWS services.</li>
<li>Use newer gen ELBs (more features).</li>
<li>Can be external (public) or internal (private).</li>
<li>Can auto-scale, but it's not instantaneous. Can contact AWS for a 'warm-up'.</li>
<li>Forward traffic to multiple servers (EC2 instances).</li>
</ul>
<h2 id="why-use-a-load-balancer">Why use a Load Balancer?<a class="headerlink" href="#why-use-a-load-balancer" title="Permanent link">¶</a></h2>
<ul>
<li>Spread load.</li>
<li>Expose a single endpoint (DNS) to the application.</li>
<li>Seamlessly handle downstream failures.</li>
<li>Perform regular health checks of instances.</li>
<li>SSL termination.</li>
<li>Manage sticky sessions.</li>
<li>HA across AZs.</li>
<li>Segregate public and private traffic.</li>
</ul>
<h2 id="scalability">Scalability<a class="headerlink" href="#scalability" title="Permanent link">¶</a></h2>
<ul>
<li>Handle greater workloads by adapting.</li>
<li>Two types - vertical, and horizontal (elasticity).</li>
</ul>
<h3 id="vertical-scalability">Vertical Scalability<a class="headerlink" href="#vertical-scalability" title="Permanent link">¶</a></h3>
<ul>
<li>Increase the instance size (moar hardware!).</li>
<li>Common for non-distributed systems (databases, elasticache etc).</li>
<li>Limited scalability. Bound to the available hardware.</li>
</ul>
<h3 id="horizontal-scalability-elasticity">Horizontal Scalability (Elasticity)<a class="headerlink" href="#horizontal-scalability-elasticity" title="Permanent link">¶</a></h3>
<ul>
<li>Increase instance count (use ALL the infra!).</li>
<li>Common for web apps, distributed applications.</li>
<li>Use auto-scaling groups.</li>
</ul>
<h2 id="high-availability">High Availability<a class="headerlink" href="#high-availability" title="Permanent link">¶</a></h2>
<ul>
<li>Run application in multiple locations to support single site loss (multi AZ).</li>
<li>Can be active or passive</li>
<li>Auto scaling group (multi AZ)</li>
<li>Load balancer (multi AZ)</li>
</ul>
<h3 id="passive">Passive<a class="headerlink" href="#passive" title="Permanent link">¶</a></h3>
<ul>
<li>Multiple locations with stand-by infrastructure.</li>
</ul>
<h3 id="active">Active<a class="headerlink" href="#active" title="Permanent link">¶</a></h3>
<ul>
<li>Multiple locations with all infrastructure in active use.</li>
</ul>
<h3 id="health-checks">Health Checks<a class="headerlink" href="#health-checks" title="Permanent link">¶</a></h3>
<ul>
<li>Inform LB if instance is healthy.</li>
<li>A Classic Load Balancer (v1) will perform the health check against a route &amp; port (foo:8080/healthcheck).</li>
</ul>
<h2 id="stickyness">Stickyness<a class="headerlink" href="#stickyness" title="Permanent link">¶</a></h2>
<ul>
<li>Same client is always redirected to the same instance behind a load balancer.</li>
<li>Uses a cookie with an expiration date to track which instance the client should be routed to.</li>
<li>Helps to preserve session data.</li>
<li>May cause a load imbalance.</li>
</ul>
<h2 id="elb-types">ELB Types<a class="headerlink" href="#elb-types" title="Permanent link">¶</a></h2>
<h3 id="classic-load-balancer-v1">Classic Load Balancer (v1)<a class="headerlink" href="#classic-load-balancer-v1" title="Permanent link">¶</a></h3>
<ul>
<li>Supports TCP (Layer 4) and HTTP &amp; HTTPS (Layer 7).</li>
<li>Health checks are TCP or HTTP based.</li>
<li>Have a fixed hostname <foo>.<region>.elb.amazonaws.com.</region></foo></li>
<li>One SSL certificate, doesn't support SNI.</li>
</ul>
<h3 id="application-load-balancer-v2">Application Load Balancer (v2)<a class="headerlink" href="#application-load-balancer-v2" title="Permanent link">¶</a></h3>
<ul>
<li>Supports HTTP, HTTPS and WebSockets (Layer 7).</li>
<li>Load balance multiple HTTP applications across machines (target groups).</li>
<li>Load balance multiple HTTP applications on the same machine (containers).</li>
<li>Supports HTTP/2 and WebSocket.</li>
<li>Supports redirects.</li>
<li>Supporting routing tables based on target groups:</li>
<li>Path in URL.</li>
<li>Hostname in URL.</li>
<li>Query string &amp; headers.</li>
<li>Good for micros services and container-based applications.</li>
<li>Supports port mapping to redirect to dynamic ports (useful for ECS).</li>
<li>Would require multiple CLBs to load balance multiple applications, vs 1 ALB.</li>
<li>Supports SNI, using multiple listeners with multiple SSL certs.</li>
</ul>
<h4 id="alb-target-groups">ALB Target Groups<a class="headerlink" href="#alb-target-groups" title="Permanent link">¶</a></h4>
<ul>
<li>EC2 instances (managed via auto-scaling group) - HTTP.</li>
<li>ECS tasks (managed by ECS) - HTTP.</li>
<li>Lambda functions - HTTP request translated into a JSON event.</li>
<li>IP Addresses - Must be private IPs.</li>
<li>Route to multiple target groups.</li>
<li>Health checks performed at the target group level.</li>
<li>Fixed hostname.</li>
<li>Application servers don't see the client IP. Client ip/port/protocol are available via the X-Forwarded-For and X-Forwarded-Proto/X-Forwarded-Port headers.</li>
</ul>
<h3 id="network-load-balancer-nlb">Network Load Balancer (NLB)<a class="headerlink" href="#network-load-balancer-nlb" title="Permanent link">¶</a></h3>
<ul>
<li>TCP/UDP/TLS traffic (Layer 4).</li>
<li>Handle millions of TPS.</li>
<li>Less latency (100ms vs 400ms of ALB).</li>
<li>One static IP per AZ.</li>
<li>Supports assigned Elastic IPs.</li>
<li>Used for extreme performance, and TCP/UDP level traffic.</li>
<li>Security group doesn't see the traffic as coming from the NLB, which impacts the "source" attribute of the security groups rule.</li>
<li>Subnets can't be disabled after the NLB is created, but new ones can be added. This means Elastic IP has to be created before the NLB is created (if you want to use an Elastic IP).</li>
<li>User SNI to support multiple listeners, with multiple SSL certificates.</li>
</ul>
<h2 id="elb-security-groups">ELB Security Groups<a class="headerlink" href="#elb-security-groups" title="Permanent link">¶</a></h2>
<ul>
<li>Allow HTTP from <any> (public route)</any></li>
<li>Allow HTTPS from <any> (public route)</any></li>
<li>Allow HTTP from <security 1="" balancer="" by="" group="" load="" used=""> (private route)</security></li>
<li>Allow HTTPS from <security 1="" balancer="" by="" group="" load="" the="" used=""> (private route)</security></li>
</ul>
<h2 id="elb-monitoring">ELB Monitoring<a class="headerlink" href="#elb-monitoring" title="Permanent link">¶</a></h2>
<ul>
<li>Access logs log all access requests.</li>
<li>CloudWatch metrics provide aggregate stats (connections count etc).</li>
</ul>
<h3 id="troubleshooting-elb">Troubleshooting ELB<a class="headerlink" href="#troubleshooting-elb" title="Permanent link">¶</a></h3>
<ul>
<li>HTTP 503 means ELB is at capacity or there's no registered targets.</li>
<li>If ELB can't connect to app, check security groups.</li>
</ul>
<h2 id="elb-connection-draining">ELB Connection Draining<a class="headerlink" href="#elb-connection-draining" title="Permanent link">¶</a></h2>
<ul>
<li>Called "connection draining" on CLB.</li>
<li>Call "deregistration delay" on ALB and NLB.</li>
<li>Is the time to complete in-flight requests while the instance is being de-registered or is unhealthy.</li>
<li>Stops sending new requests to the instance which is de-registering.</li>
<li>De-registration delay is 300sec by default. </li>
<li>De-registration delay can be anything from 1 to 3600 seconds.</li>
<li>Default de-registration delay is 300 seconds.</li>
<li>De-registration delay can be set to 0 (disabled).</li>
<li>Use low value if requests are short.</li>
</ul>
<h2 id="cross-zone-load-balancing">Cross-Zone Load Balancing<a class="headerlink" href="#cross-zone-load-balancing" title="Permanent link">¶</a></h2>
<ul>
<li>Each load balancer instance distributes evenly across all registered instances in all AZs.</li>
<li>Disabled by default on CLB. No additional charges for inter AZ data.</li>
<li>Enabled on ALB, can't be turned off. No charges for inter AZ data.</li>
<li>Disabled by default for NLB. Additional charges for inter AZ data.</li>
</ul>
<h2 id="slbtls-certificates">SLB/TLS Certificates<a class="headerlink" href="#slbtls-certificates" title="Permanent link">¶</a></h2>
<ul>
<li>Load balancers use an X.509 certificate.</li>
<li>You can use/manage certificates from AWS Certificate Manager (ACM).</li>
<li>You can use certificates from IAM.</li>
<li>Can also use your own certificates.</li>
<li>When configuring the HTTPS listener:</li>
<li>Must specify a default certificate.</li>
<li>An optional list of certs can be addded to support multiple domains.</li>
<li>Clients can use SNI (Server Name Indication) to specify the hostname they reach.</li>
<li>Can apply a security policy to support older versions of SSL/TLS.</li>
</ul>
<h3 id="server-name-indication-sni">Server Name Indication (SNI)<a class="headerlink" href="#server-name-indication-sni" title="Permanent link">¶</a></h3>
<ul>
<li>Use multiple SSL certificates on the same web server.</li>
<li>Client indicates which hostname of the target server it should connect to during the SSL handshake.</li>
<li>Only available on ALB, NLB and Cloudfront.</li>
<li>Doesn't work on CLB.</li>
</ul>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 30, 2021</span>
</small>
</div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#" title="Back to top">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
</a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a class="md-footer__link md-footer__link--prev" href="../elasticache/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              ElastiCache
            </div>
</div>
</a>
<a class="md-footer__link md-footer__link--next" href="../iam/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Identity &amp; Access Management
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
<a class="md-footer-social__link" href="https://www.linkedin.com/in/nathonfowlie/" rel="noopener" target="_blank" title="LinkedIn">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.top", "search.suggest", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
<script src="../../assets/javascripts/bundle.a1609d9a.min.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>